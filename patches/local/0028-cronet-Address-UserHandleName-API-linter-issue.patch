From e463733a7d69ad2266293562420b07e02cc11a6d Mon Sep 17 00:00:00 2001
From: Motomu Utsumi <motomuman@google.com>
Date: Fri, 3 Mar 2023 15:20:00 +0900
Subject: [PATCH 1/1] cronet: Address UserHandleName API linter issue

Bug: 265674359
Test: TH
Change-Id: Ie3313b77d2a8c5e93c78e1a08d0127b640994dca
---
 .../src/android/net/http/ConnectionMigrationOptions.java    | 4 ++++
 .../cronet/android/api/src/android/net/http/DnsOptions.java | 6 +++++-
 .../android/api/src/android/net/http/QuicOptions.java       | 4 ++++
 3 files changed, 13 insertions(+), 1 deletion(-)

diff --git a/components/cronet/android/api/src/android/net/http/ConnectionMigrationOptions.java b/components/cronet/android/api/src/android/net/http/ConnectionMigrationOptions.java
index eb65ee6db..b93f87577 100644
--- a/components/cronet/android/api/src/android/net/http/ConnectionMigrationOptions.java
+++ b/components/cronet/android/api/src/android/net/http/ConnectionMigrationOptions.java
@@ -4,6 +4,8 @@
 
 package android.net.http;
 
+import android.annotation.SuppressLint;
+
 import androidx.annotation.Nullable;
 
 import java.time.Duration;
@@ -26,6 +28,8 @@ import java.time.Duration;
  * @see <a href="https://www.rfc-editor.org/rfc/rfc9000.html#section-9">Connection
  *     Migration specification</a>
  */
+// SuppressLint to be consistent with other cronet code
+@SuppressLint("UserHandleName")
 public class ConnectionMigrationOptions {
     @Nullable
     private final Boolean mEnableDefaultNetworkMigration;
diff --git a/components/cronet/android/api/src/android/net/http/DnsOptions.java b/components/cronet/android/api/src/android/net/http/DnsOptions.java
index c61105762..de800ab6d 100644
--- a/components/cronet/android/api/src/android/net/http/DnsOptions.java
+++ b/components/cronet/android/api/src/android/net/http/DnsOptions.java
@@ -4,6 +4,7 @@
 
 package android.net.http;
 
+import android.annotation.SuppressLint;
 import android.os.Build.VERSION_CODES;
 
 import androidx.annotation.Nullable;
@@ -35,6 +36,8 @@ import java.time.Duration;
  *
  * <p>Most configuration in this class is only applicable if the built-in DNS resolver is used.
  */
+// SuppressLint to be consistent with other cronet code
+@SuppressLint("UserHandleName")
 public final class DnsOptions {
     @Nullable
     private final Boolean mUseHttpStackDnsResolver;
@@ -139,7 +142,8 @@ public final class DnsOptions {
      * <p>For detailed explanation of the configuration options see javadoc on
      * {@link StaleDnsOptions.Builder} methods.
      */
-    @Experimental
+    // SuppressLint to be consistent with other cronet code
+    @Experimental @SuppressLint("UserHandleName")
     public static class StaleDnsOptions {
         @Nullable
         public Long getFreshLookupTimeoutMillis() {
diff --git a/components/cronet/android/api/src/android/net/http/QuicOptions.java b/components/cronet/android/api/src/android/net/http/QuicOptions.java
index b97855791..bea375744 100644
--- a/components/cronet/android/api/src/android/net/http/QuicOptions.java
+++ b/components/cronet/android/api/src/android/net/http/QuicOptions.java
@@ -4,6 +4,8 @@
 
 package android.net.http;
 
+import android.annotation.SuppressLint;
+
 import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
 
@@ -19,6 +21,8 @@ import java.util.Set;
  * {@link HttpEngine.Builder#setEnableQuic(boolean)} to enable / disable QUIC for
  * the HTTP engine.
  */
+// SuppressLint to be consistent with other cronet code
+@SuppressLint("UserHandleName")
 public class QuicOptions {
     private final Set<String> mQuicHostAllowlist;
     private final Set<String> mEnabledQuicVersions;
-- 
2.40.0.rc1.284.g88254d51c5-goog

