From 16959763a14e951127b843de8f1fe7ac37c76e4d Mon Sep 17 00:00:00 2001
From: Dan Stahr <danstahr@google.com>
Date: Tue, 10 Jan 2023 10:31:27 +0000
Subject: [PATCH] Remove fake Cronet classes.

Test: m

Change-Id: I6a2641acd3ee9d09b72ed24ec2479364542a034e
---
 components/cronet/android/BUILD.gn | 67 ------------------------------
 1 file changed, 67 deletions(-)

diff --git a/components/cronet/android/BUILD.gn b/components/cronet/android/BUILD.gn
index 01256639d67d0..e7ec8817bb11d 100644
--- a/components/cronet/android/BUILD.gn
+++ b/components/cronet/android/BUILD.gn
@@ -330,25 +330,6 @@ android_library("cronet_impl_common_base_java") {
   srcjar_deps = cronet_impl_common_java_srcjar_deps
 }
 
-# cronet_impl_fake_base_java.jar - Fake implementation of Cronet.
-android_library("cronet_impl_fake_base_java") {
-  sources = [
-    "fake/java/org/chromium/net/test/FakeCronetController.java",
-    "fake/java/org/chromium/net/test/FakeCronetEngine.java",
-    "fake/java/org/chromium/net/test/FakeUrlRequest.java",
-    "fake/java/org/chromium/net/test/FakeUrlResponse.java",
-    "fake/java/org/chromium/net/test/ResponseMatcher.java",
-    "fake/java/org/chromium/net/test/UrlResponseMatcher.java",
-  ]
-
-  deps = [
-    ":cronet_api_java",
-    ":cronet_impl_common_base_java",
-    ":cronet_impl_java_util_java",
-    "//third_party/androidx:androidx_annotation_annotation_java",
-  ]
-}
-
 android_library("cronet_urlconnection_impl_java") {
   sources = [
     "java/src/org/chromium/net/urlconnection/CronetBufferedOutputStream.java",
@@ -564,15 +545,6 @@ android_java_prebuilt("package_impl_platform_java") {
   ]
 }
 
-android_java_prebuilt("package_impl_fake_java") {
-  jar_path = "$_package_dir/cronet_impl_fake_java.jar"
-  deps = [
-    ":package_api_java",
-    ":package_impl_common_java",
-    ":repackage_fake",
-  ]
-}
-
 template("jar_src") {
   action_with_pydeps(target_name) {
     _rebased_src_search_dirs =
@@ -662,12 +634,6 @@ jar_src("jar_cronet_impl_common_java_source") {
   jar_path = "$_package_dir/cronet_impl_common_java-src.jar"
 }
 
-jar_src("jar_cronet_impl_fake_java_source") {
-  src_search_dirs = [ "fake/java" ]
-  source_deps = [ ":cronet_impl_fake_base_java" ]
-  jar_path = "$_package_dir/cronet_impl_fake_java-src.jar"
-}
-
 jar_src("jar_cronet_impl_util_java_source") {
   src_search_dirs = [ "java/src" ]
   source_deps = [ ":cronet_impl_java_util_java" ]
@@ -717,11 +683,6 @@ repackage_jars("repackage_api") {
   deps = [ ":cronet_api_java" ]
 }
 
-repackage_jars("repackage_fake") {
-  output = "$_package_dir/cronet_impl_fake_java.jar"
-  deps = [ ":cronet_impl_fake_base_java" ]
-}
-
 repackage_jars("repackage_util") {
   output = "$_package_dir/cronet_impl_util_java.jar"
   deps = [ ":cronet_impl_java_util_java" ]
@@ -955,32 +916,8 @@ android_library("cronet_common_javatests") {
          ] + cronet_tests_androidx_common_srcs
 }
 
-# cronet_fake_javatests.jar - Java tests for the fake implementation of Cronet.
-android_library("cronet_fake_javatests") {
-  testonly = true
-  sources = [
-    "fake/javatests/org/chromium/net/test/FakeCronetControllerTest.java",
-    "fake/javatests/org/chromium/net/test/FakeCronetEngineTest.java",
-    "fake/javatests/org/chromium/net/test/FakeCronetProviderTest.java",
-    "fake/javatests/org/chromium/net/test/FakeUrlRequestTest.java",
-    "fake/javatests/org/chromium/net/test/FakeUrlResponseTest.java",
-    "fake/javatests/org/chromium/net/test/UrlResponseMatcherTest.java",
-  ]
-
-  deps = [
-           ":cronet_api_java",
-           ":cronet_common_javatests",
-           ":cronet_impl_common_base_java",
-           ":cronet_impl_fake_base_java",
-           "//base:base_java_test_support",
-           "//third_party/android_sdk:android_test_base_java",
-           "//third_party/junit",
-         ] + cronet_tests_androidx_common_srcs
-}
-
 cronet_javatests_deps_to_package = [
   ":cronet_common_javatests",
-  ":cronet_fake_javatests",
   ":cronet_test_apk_java",
   "//base:base_java",
   "//base:jni_java",
@@ -1469,7 +1406,6 @@ copy("cronet_package_copy") {
     "//AUTHORS",
     "//chrome/VERSION",
     "cronet_impl_common_proguard.cfg",
-    "cronet_impl_fake_proguard.cfg",
     "cronet_impl_platform_proguard.cfg",
     "implementation_api_version.txt",
     "interface_api_version.txt",
@@ -1480,7 +1416,6 @@ copy("cronet_package_copy") {
     ":cronet_api_java",
     ":cronet_combine_proguard_flags",
     ":cronet_impl_common_base_java",
-    ":cronet_impl_fake_base_java",
   ]
 }
 
@@ -1672,13 +1607,11 @@ group("cronet_package_android") {
       ":generate_licenses",
       ":jar_cronet_api_source",
       ":jar_cronet_impl_common_java_source",
-      ":jar_cronet_impl_fake_java_source",
       ":jar_cronet_impl_native_java_source",
       ":jar_cronet_impl_platform_java_source",
       ":jar_cronet_sample_source",
       ":repackage_api",
       ":repackage_common",
-      ":repackage_fake",
       ":repackage_native",
       ":repackage_platform",
     ]
-- 
2.40.1.495.gc816e09b53d-goog

