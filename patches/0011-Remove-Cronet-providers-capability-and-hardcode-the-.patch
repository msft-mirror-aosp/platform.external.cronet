From ad1da996b979a56f9dedf0e8cc8ef53aa894883c Mon Sep 17 00:00:00 2001
From: Dan Stahr <danstahr@google.com>
Date: Tue, 3 Jan 2023 16:23:10 +0000
Subject: [PATCH] Remove Cronet providers capability and hardcode the Android
 platform to always use the native implementation.

Test: m

Change-Id: I51deb9056ed066c4eaad831ab8143ddc6bdae79c
---
 components/cronet/android/BUILD.gn | 4 ----
 1 file changed, 4 deletions(-)

diff --git a/components/cronet/android/BUILD.gn b/components/cronet/android/BUILD.gn
index bedd09bd84744..1dc14396f1550 100644
--- a/components/cronet/android/BUILD.gn
+++ b/components/cronet/android/BUILD.gn
@@ -242,7 +242,6 @@ android_library("cronet_api_java") {
     "api/src/org/chromium/net/CronetEngine.java",
     "api/src/org/chromium/net/CronetException.java",
     "api/src/org/chromium/net/DnsOptions.java",
-    "api/src/org/chromium/net/CronetProvider.java",
     "api/src/org/chromium/net/ExperimentalBidirectionalStream.java",
     "api/src/org/chromium/net/ExperimentalCronetEngine.java",
     "api/src/org/chromium/net/ExperimentalUrlRequest.java",
@@ -346,7 +345,6 @@ android_library("cronet_impl_platform_base_java") {
     "java/src/org/chromium/net/impl/InputStreamChannel.java",
     "java/src/org/chromium/net/impl/JavaCronetEngine.java",
     "java/src/org/chromium/net/impl/JavaCronetEngineBuilderImpl.java",
-    "java/src/org/chromium/net/impl/JavaCronetProvider.java",
     "java/src/org/chromium/net/impl/JavaUrlRequest.java",
   ]
 
@@ -365,7 +363,6 @@ android_library("cronet_impl_fake_base_java") {
   sources = [
     "fake/java/org/chromium/net/test/FakeCronetController.java",
     "fake/java/org/chromium/net/test/FakeCronetEngine.java",
-    "fake/java/org/chromium/net/test/FakeCronetProvider.java",
     "fake/java/org/chromium/net/test/FakeUrlRequest.java",
     "fake/java/org/chromium/net/test/FakeUrlResponse.java",
     "fake/java/org/chromium/net/test/ResponseMatcher.java",
@@ -427,7 +424,6 @@ android_library("cronet_impl_native_base_java") {
     "java/src/org/chromium/net/impl/CronetUrlRequestContext.java",
     "java/src/org/chromium/net/impl/NativeCronetEngineBuilderImpl.java",
     "java/src/org/chromium/net/impl/NativeCronetEngineBuilderWithLibraryLoaderImpl.java",
-    "java/src/org/chromium/net/impl/NativeCronetProvider.java",
   ]
 
   # Adding deps here won't include those deps in the cronet_impl_native_java.jar.
-- 
2.40.0.348.gf938b09366-goog

